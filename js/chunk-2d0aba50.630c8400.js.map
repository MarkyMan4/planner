{"version":3,"sources":["webpack:///./src/views/EnterTime.vue?b61e","webpack:///src/views/EnterTime.vue","webpack:///./src/views/EnterTime.vue?a853","webpack:///./src/views/EnterTime.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","token","staticClass","_v","attrs","on","$event","preventDefault","checkForm","_m","directives","name","rawName","value","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","projId","multiple","_l","proj","key","id","domProps","_s","composing","percent","_e","staticRenderFns","components","data","methods","baseUrl","getProjects","params","active","headers","created","component"],"mappings":"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","file":"js/chunk-2d0aba50.630c8400.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.token!=null)?_c('div',{staticClass:\"page\"},[_c('h1',[_vm._v(\"Enter Time On Project\")]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md\"}),_c('div',{staticClass:\"col-md\"},[_c('div',{staticClass:\"card mt-5\"},[_c('div',{staticClass:\"card-body\"},[_c('form',{attrs:{\"id\":\"timeForm\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.checkForm($event)}}},[_c('div',{staticClass:\"text-left\"},[_vm._m(0),_c('p',{staticClass:\"mb-4\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.projId),expression:\"projId\"}],attrs:{\"required\":\"\",\"name\":\"project\",\"id\":\"project\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.projId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.projects),function(proj){return _c('option',{key:proj.id,domProps:{\"value\":proj.id}},[_vm._v(\" \"+_vm._s(proj.name)+\" \")])}),0)]),_vm._m(1),_c('p',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.percent),expression:\"percent\"}],attrs:{\"required\":\"\",\"type\":\"number\",\"id\":\"percent\",\"placeholder\":\"percent of time\"},domProps:{\"value\":(_vm.percent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.percent=$event.target.value}}})])]),_vm._m(2)])])])]),_c('div',{staticClass:\"col-md\"})])]):(_vm.token==null)?_c('div',[_c('h3',[_vm._v(\"Please login to enter time on a project\")])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('label',{staticClass:\"mb-0\",attrs:{\"for\":\"name\"}},[_c('b',[_vm._v(\"Project\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('label',{staticClass:\"mb-0\",attrs:{\"for\":\"percent\"}},[_c('b',[_vm._v(\"Percent of Time\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('input',{staticClass:\"btn btn-outline-success mt-4\",attrs:{\"type\":\"submit\",\"value\":\"Submit\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page\" v-if=\"token!=null\">\r\n    <h1>Enter Time On Project</h1>\r\n    <div class=\"row\">\r\n        <div class=\"col-md\"></div>\r\n        <div class=\"col-md\">\r\n            <div class=\"card mt-5\">\r\n                <div class=\"card-body\">\r\n                    <form id=\"timeForm\" @submit.prevent=\"checkForm\">\r\n                      <div class=\"text-left\">\r\n                        <p>\r\n                          <label class=\"mb-0\" for=\"name\"><b>Project</b></label>\r\n                        </p>\r\n                        <p class=\"mb-4\">\r\n                          <select required name=\"project\" id=\"project\" v-model=\"projId\">\r\n                            <option v-for=\"proj in projects\" :key=\"proj.id\" :value=\"proj.id\">\r\n                              {{ proj.name }}\r\n                            </option>\r\n                          </select>\r\n                        </p>\r\n                        <p>\r\n                          <label class=\"mb-0\" for=\"percent\"><b>Percent of Time</b></label>\r\n                        </p>\r\n                        <p>\r\n                          <input required type=\"number\" id=\"percent\" v-model=\"percent\" placeholder=\"percent of time\">\r\n                        </p>\r\n                      </div>\r\n                        <p>\r\n                          <input class=\"btn btn-outline-success mt-4\" type=\"submit\" value=\"Submit\">\r\n                        </p>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md\"></div>\r\n    </div>\r\n  </div>\r\n  <div v-else-if=\"token==null\">\r\n      <h3>Please login to enter time on a project</h3>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'EnterTime',\r\n  components: {\r\n\r\n  },\r\n  data() {\r\n      return {\r\n          token: localStorage.getItem('user-token'),\r\n          projects : [],\r\n          projId: null,\r\n          percent: null\r\n      }\r\n  },\r\n  methods: {\r\n    checkForm() {\r\n      var baseUrl = \"https://planner-backend-api.herokuapp.com/\";\r\n\r\n      if(window.location.hostname == \"localhost\") {\r\n        baseUrl = \"http://localhost:8000/\";\r\n      }\r\n\r\n      const headers = {\r\n          'Authorization': 'Token ' + this.token\r\n      }\r\n      axios.post(baseUrl + 'api/projects/' + this.projId + '/allocate_time/', {\r\n          project: this.projId,\r\n          percent_allocated: this.percent\r\n      },\r\n      {\r\n          headers: headers\r\n      })\r\n      .then(res => {\r\n        this.projId = null;\r\n        this.percent = null;\r\n      })\r\n      .catch(res => (console.log(res)));\r\n    },\r\n    getProjects() {\r\n      var baseUrl = \"https://planner-backend-api.herokuapp.com/\";\r\n\r\n      if(window.location.hostname == \"localhost\") {\r\n        baseUrl = \"http://localhost:8000/\";\r\n      }\r\n\r\n      axios.get(baseUrl + \"api/projects/\", {\r\n        params: {\r\n          active: \"true\"\r\n        },\r\n        headers: {\r\n          'Authorization': 'Token ' + this.token\r\n        }\r\n      })\r\n      .then(res => {\r\n        this.projects = res.data;\r\n      })\r\n      .catch(err => console.log(err));\r\n    }\r\n  },\r\n  created() {\r\n    this.getProjects();\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnterTime.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnterTime.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EnterTime.vue?vue&type=template&id=2e1616d8&\"\nimport script from \"./EnterTime.vue?vue&type=script&lang=js&\"\nexport * from \"./EnterTime.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}